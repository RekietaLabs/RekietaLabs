<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RekietaLabs POS</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="dark-mode">

    <!-- PIN Entry Section -->
    <div id="pinContainer" class="login-container">
        <h2>Enter Your PIN</h2>
        <input type="password" id="pinInput" placeholder="Enter PIN">
        <button onclick="validatePIN()">Login</button>
        <p id="error-message" class="error"></p>
    </div>

    <!-- POS System (Initially Hidden) -->
    <div id="posContainer" class="pos-container" style="display: none;">
        <button id="toggleTheme">Toggle Dark/Light Mode</button>

        <div class="left-panel">
            <h2>Items</h2>
            <div class="item-buttons">
                <button onclick="addItem('Item 1', 5.00)">Item 1 - $5.00</button>
                <button onclick="addItem('Item 2', 10.00)">Item 2 - $10.00</button>
                <button onclick="addItem('Item 3', 15.00)">Item 3 - $15.00</button>
                <button onclick="customAmount()">Custom Amount</button>
            </div>
        </div>
        
        <div class="right-panel">
            <h2>Order Summary</h2>
            <p>Cashier: <span id="cashierName"></span></p>
            <ul id="orderList"></ul>
            <p>Total: $<span id="totalAmount">0.00</span></p>

            <label for="terminalSelect">Select Terminal:</label>
            <select id="terminalSelect">
                <option value="Terminal1.html">Terminal 1</option>
                <option value="Terminal2.html">Terminal 2</option>
                <option value="Terminal3.html">Terminal 3</option>
                <option value="Terminal4.html">Terminal 4</option>
                <option value="Terminal5.html">Terminal 5</option>
            </select>

            <button onclick="sendSale()">Send Sale</button>
        </div>
    </div>

    <script>
        const validPins = {
            "2687": "Kellan Rekieta",
            "4646": "Justin Rekieta"
        };

        function validatePIN() {
            const pin = document.getElementById('pinInput').value;
            if (validPins[pin]) {
                localStorage.setItem("cashierName", validPins[pin]);
                document.getElementById("cashierName").innerText = validPins[pin];

                // Hide PIN entry, show POS system
                document.getElementById("pinContainer").style.display = "none";
                document.getElementById("posContainer").style.display = "flex";
            } else {
                document.getElementById('error-message').innerText = "Invalid PIN!";
            }
        }

        let total = 0;
        function addItem(name, price) {
            const list = document.getElementById("orderList");
            const item = document.createElement("li");
            item.innerText = `${name} - $${price.toFixed(2)}`;
            list.appendChild(item);
            total += price;
            document.getElementById("totalAmount").innerText = total.toFixed(2);
        }

        function customAmount() {
            const amount = parseFloat(prompt("Enter custom amount:"));
            if (!isNaN(amount) && amount > 0) {
                addItem("Custom Amount", amount);
            }
        }

        function sendSale() {
            const terminal = document.getElementById("terminalSelect").value;
            window.open(terminal, "_blank");
        }

        // Dark/Light Mode Toggle
        document.getElementById("toggleTheme").addEventListener("click", function () {
            document.body.classList.toggle("light-mode");
            document.body.classList.toggle("dark-mode");
        });
    </script>

</body>
</html>
